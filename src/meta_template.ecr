require "ecr"
require "yaml"

module Templates

  class Tpl
    def initialize(@context : Hash(YAML::Any, Yaml::Any))
    end
  end

    <%- @templates.each do |t| -%>
    class Tpl<%= t.titleize.split(".ecr")[0] %> << Tpl
        def initialize(@context : Hash(YAML::Any, Yaml::Any))
        end

        ECR.def_to_s "templates/<%= t %>.ecr"
    end
    <%- end -%>

    Template = {
    <%- @templates.each do |t| -%>
    "templates/<%= t %>.tmpl" => Tpl<%= t.titleize %>,
    <%- end -%>
    }
end
